{"ast":null,"code":"var _jsxFileName = \"/home/goyal/cohort-g/Phase2/week13/gitfunc/src/context/Github/GithubState.js\",\n    _s = $RefreshSig$();\n\nimport GithubContext from \"./GithubContext\";\nimport axios from \"axios\";\nimport React, { useReducer, useContext } from \"react\";\nimport { ALL_USERS, RESET_USER, SET_LOADING, SET_USER, RESET_LOADING } from \"../types\";\nimport githubReducer from \"./GithubReducer\";\nimport AlertContext from \"../Alert/AlertContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GithubState = props => {\n  _s();\n\n  const {\n    setAlert\n  } = useContext(AlertContext);\n  const initialState = {\n    users: [],\n    loading: true,\n    user: {},\n    repos: []\n  };\n  const [state, dispatch] = useReducer(githubReducer, initialState);\n\n  const getAllUsers = () => {\n    axios.get(\"https://api.github.com/users\").then(res => {\n      dispatch({\n        type: ALL_USERS,\n        payload: res.data\n      });\n    }).catch(err => {\n      dispatch({\n        type: RESET_LOADING\n      });\n      setAlert(\"danger\", \"Error in fetching data, Please try again.\");\n    });\n  };\n\n  const searchUsers = async query => {\n    try {\n      dispatch({\n        type: SET_LOADING\n      });\n      let res = await axios.get(`https://api.github.com/search/users?q=${query}`);\n      dispatch({\n        type: ALL_USERS,\n        payload: res.data.items\n      });\n    } catch (error) {\n      dispatch({\n        type: RESET_LOADING\n      });\n      setAlert(\"danger\", \"Error in searching user, Please try again with a valid username.\");\n    }\n  };\n\n  const getUserInfo = async username => {\n    try {\n      dispatch({\n        type: SET_LOADING\n      });\n      let user = await axios.get(`https://api.github.com/users/${username}`);\n      let repos = await axios.get(`https://api.github.com/users/${username}/repos`);\n      dispatch({\n        type: SET_USER,\n        payload: {\n          user: user.data,\n          repos: repos.data\n        }\n      });\n    } catch (error) {\n      dispatch({\n        type: RESET_LOADING\n      });\n      setAlert(\"danger\", \"Error in getting uersinfo, Please try again.\");\n    }\n  };\n\n  const resetUserInfo = () => {\n    dispatch({\n      type: RESET_USER\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(GithubContext.Provider, {\n    value: { ...state,\n      getAllUsers,\n      searchUsers,\n      getUserInfo,\n      resetUserInfo\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GithubState, \"+ej53wa4R/O3BuERoeobyjhjwYc=\");\n\n_c = GithubState;\nexport default GithubState;\n\nvar _c;\n\n$RefreshReg$(_c, \"GithubState\");","map":{"version":3,"sources":["/home/goyal/cohort-g/Phase2/week13/gitfunc/src/context/Github/GithubState.js"],"names":["GithubContext","axios","React","useReducer","useContext","ALL_USERS","RESET_USER","SET_LOADING","SET_USER","RESET_LOADING","githubReducer","AlertContext","GithubState","props","setAlert","initialState","users","loading","user","repos","state","dispatch","getAllUsers","get","then","res","type","payload","data","catch","err","searchUsers","query","items","error","getUserInfo","username","resetUserInfo","children"],"mappings":"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","sourcesContent":["import GithubContext from \"./GithubContext\";\nimport axios from \"axios\";\nimport React, { useReducer, useContext } from \"react\";\nimport {\n  ALL_USERS,\n  RESET_USER,\n  SET_LOADING,\n  SET_USER,\n  RESET_LOADING,\n} from \"../types\";\nimport githubReducer from \"./GithubReducer\";\nimport AlertContext from \"../Alert/AlertContext\";\nconst GithubState = (props) => {\n  const { setAlert } = useContext(AlertContext);\n  const initialState = {\n    users: [],\n    loading: true,\n    user: {},\n    repos: [],\n  };\n  const [state, dispatch] = useReducer(githubReducer, initialState);\n  const getAllUsers = () => {\n    axios\n      .get(\"https://api.github.com/users\")\n      .then((res) => {\n        dispatch({ type: ALL_USERS, payload: res.data });\n      })\n      .catch((err) => {\n        dispatch({ type: RESET_LOADING });\n        setAlert(\"danger\", \"Error in fetching data, Please try again.\");\n      });\n  };\n  const searchUsers = async (query) => {\n    try {\n      dispatch({ type: SET_LOADING });\n      let res = await axios.get(\n        `https://api.github.com/search/users?q=${query}`\n      );\n      dispatch({ type: ALL_USERS, payload: res.data.items });\n    } catch (error) {\n      dispatch({ type: RESET_LOADING });\n      setAlert(\n        \"danger\",\n        \"Error in searching user, Please try again with a valid username.\"\n      );\n    }\n  };\n  const getUserInfo = async (username) => {\n    try {\n      dispatch({ type: SET_LOADING });\n      let user = await axios.get(`https://api.github.com/users/${username}`);\n      let repos = await axios.get(\n        `https://api.github.com/users/${username}/repos`\n      );\n      dispatch({\n        type: SET_USER,\n        payload: { user: user.data, repos: repos.data },\n      });\n    } catch (error) {\n      dispatch({ type: RESET_LOADING });\n      setAlert(\"danger\", \"Error in getting uersinfo, Please try again.\");\n    }\n  };\n  const resetUserInfo = () => {\n    dispatch({ type: RESET_USER });\n  };\n  return (\n    <GithubContext.Provider\n      value={{ ...state, getAllUsers, searchUsers, getUserInfo, resetUserInfo }}\n    >\n      {props.children}\n    </GithubContext.Provider>\n  );\n};\n\nexport default GithubState;\n"]},"metadata":{},"sourceType":"module"}